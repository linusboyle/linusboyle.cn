<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>狷墨居</title>
    <description>风含翠篠娟娟净，雨裛红蕖冉冉香</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Mon, 04 Mar 2019 22:59:06 +0800</pubDate>
    <lastBuildDate>Mon, 04 Mar 2019 22:59:06 +0800</lastBuildDate>
    <generator>Jekyll v3.8.5</generator>
    
      <item>
        <title>刀说异数第六集小评</title>
        <description>&lt;h4 id=&quot;写在前面&quot;&gt;写在前面&lt;/h4&gt;

&lt;blockquote&gt;
  &lt;ol&gt;
    &lt;li&gt;「异数」指霹雳异数，「刀说」指刀说异数。很多时候，我也会用「新/老异数」来区分。&lt;/li&gt;
    &lt;li&gt;此文章大概率含有潜在剧透。&lt;/li&gt;
    &lt;li&gt;此系列的更新将与&lt;strong&gt;没有&lt;/strong&gt;抢先观看资格的戏迷同步。&lt;/li&gt;
    &lt;li&gt;和云浆前辈的剧评相比，我更注重剧情设置，基本忽略了剧情本身的优劣。如果对这方面感兴趣，建议观看云浆前辈的系列剧评。&lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;正邪冲击&quot;&gt;正邪冲击&lt;/h3&gt;

&lt;p&gt;人在江湖，身不由己；寸心之争，生死忘矣&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;。苦境武林诞生伊始，充斥着残忍、背叛、反传统、逆人伦的元素，它们伴随着欧阳上智的冷血统治，深深烙印在早期几部剧集之中。至于我们的救世主素还真先生，比之前辈史君子懂得变通，可惜依旧是心慈手软&lt;sup id=&quot;fnref:2&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;，败在欧阳手下理所当然。隐藏实力、假疯不癫这种招数，虽然他常常使用，不过若不是为了自古邪不压正的教化作用，实在难以让人信服，他有什么非如此不可的理由。&lt;/p&gt;

&lt;p&gt;罗网乾坤・崎路人在这方面对于素还真的模范作用，实在是很重要，素还真也学得很快，并且用在了崎路人身上（不知道牺牲崎路人的时候他是何感想）。如果真要细究下去，还是怪霹雳江湖无处不在的「天命」吧（这信命的思想不知道害了多少人：普九年、灵心异佛、崎路人、甚至一页书……但愿辩证唯物主义进步思想在苦境早日普及）。不过，崎路人的残忍，和素还真以及后来的领军人物的残忍，还不太一样。&lt;/p&gt;

&lt;p&gt;先回到剧集本身吧，崎路人坑死寒怜，从大局的角度上来看无可厚非。因为在太黄君给出假回生水的情况下，崎路人就算告诉箭无形，后者也不会相信；且回生水只有一滴，没有实验的可能，箭无形不可能冒这种险。因此这样做最好也不过是让箭无形质问太黄君而已，而以太黄君的阴险，箭同学不被洗脑才怪。&lt;/p&gt;

&lt;p&gt;崎路人故意挡毒，就是把戏做得更加逼真。“毕竟我自己也是受害人之一，老实单纯的箭无形就不会怀疑我；而太黄君也不太可能借此诬陷我把回生水调包”。崎路人不得不这样做，正中太黄君下怀：如果崎路人被毒死那是再好不过；如果崎路人运功逼毒，暗算关足天，那太黄君就可以白拿藏龙宝典。太黄君此计的主要目的是保护魔龙名单，但是代价是箭无形被策反。从实际上来说，虽然箭无形本身对魔龙的感情不深，且一心只想着退隐江湖，但是崎路人破釜沉舟，杀掉寒怜之后，箭无形坚定地加入天虎的行列，而且十八神器算是白给他了。这无疑是不智的行为。&lt;/p&gt;

&lt;p&gt;这段戏如果想把太黄君的智慧塑造地更好，可以再加入一段后续。比如，以假的藏龙宝典交换回生水给崎路人，然后诬陷崎路人中饱私囊，故意害死寒怜。当然，毕竟是翻拍，这种原创性的剧情不大可能出现了。&lt;/p&gt;

&lt;p&gt;从这件事上来看，崎路人的确是很残忍，以后他还会做出更残忍的事。但是崎路人这个角色给我的感觉很奇妙，他不是那种口口声声「天地不仁」、「无毒不丈夫」、「牺牲少数保全多数」之类的人，他做的很多事情有天命观的影响，但大部分还是基于事实的。素还真、两卷书&lt;sup id=&quot;fnref:3&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;这种主角，没有一点冷峻难成大事，不过如是赤裸裸地牺牲队友，那就未免太伤人，而且观众恐怕受不了。他们那些小小的心思被瑰丽的文辞，真挚的悼念和追思，以及英俊的外表所掩盖，显得倒不那么直截了当了。可是若问谁更适合做朋友、谁是真的可爱、谁的内心更善良，那无疑是像崎路人那样的人；待在素、书旁边，我时刻提心吊胆，因为没有上帝视角，对于他们的本质我一无所知。&lt;/p&gt;

&lt;p&gt;这一集的主要爆点就在于这儿，其他的诸如通瑶池之死也都是相关的剧情（本身异数前期也只有单线）。龙骨圣刀现世，素还真复出不远了。倒是强行打了冷剑白狐和通瑶池的感情牌，个人不是很感冒，但恐怕通瑶池之后在大部分戏迷心中，会变成一个花心的形象了（其实两个人没有男女之情）。&lt;/p&gt;

&lt;h4 id=&quot;注释&quot;&gt;注释&lt;/h4&gt;
&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot;&gt;
      &lt;p&gt;古龙语 &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot;&gt;
      &lt;p&gt;素还真是不是杀接天道的真凶呢？我个人更怀疑谈无欲一些，不过这段公案没有定论。 &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:3&quot;&gt;
      &lt;p&gt;红云骄子・两卷书，天宇布袋戏主角 &lt;a href=&quot;#fnref:3&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Mon, 04 Mar 2019 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2019/03/daoshuoyishu-06/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/03/daoshuoyishu-06/</guid>
        
        <category>刀说异数</category>
        
        <category>布袋戏</category>
        
        <category>剧评</category>
        
        
      </item>
    
      <item>
        <title>刀说异数第五集小评</title>
        <description>&lt;p&gt;&lt;strong&gt;写在前面&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;「异数」指霹雳异数，「刀说」指刀说异数。很多时候，我也会用「新/老异数」来区分。&lt;/li&gt;
  &lt;li&gt;此文章大概率含有潜在剧透。&lt;/li&gt;
  &lt;li&gt;此系列的更新将与&lt;strong&gt;没有&lt;/strong&gt;抢先观看资格的戏迷同步。&lt;/li&gt;
  &lt;li&gt;和云浆前辈的剧评相比，我更注重剧情设置，基本忽略了剧情本身的优劣。如果对这方面感兴趣，建议观看云浆前辈的系列剧评。&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;金鳞蟒邪&quot;&gt;金鳞蟒邪&lt;/h3&gt;

&lt;p&gt;金鳞蟒邪实在是一把很好的剑，冷剑白狐凭借它杀掉了久负盛名的谈无欲。当然，此时的谈无欲智谋、武艺都已经刻画到了尽头，其早期妒忌心重、心高气傲的形象注定不能长久，最后不幸在霹雳异数中破格而亡。之后谈无欲在英雄榜的复活，基本上没有什么新意；可能到了大部分人熟悉的《霹雳剑踪》，他的形象才被丰富，从而走向了不同的剧情风格。无论如何，相比被傲笑红尘一挑三轻易地杀死，死在金鳞蟒邪手上已经算是不错的结局了，破格也没那么严重。&lt;/p&gt;

&lt;p&gt;从第五集开始，剧情可以根据太崎二人的斗争而划入新的部分。简单梳理一下：太黄君与崎路人的争斗的第一部分，是围绕半驼废之死展开的；结果是太黄君凭借信息不对等的先天优势，利用枯叶的身世拖死了半驼废，得到擎天神剑。随后刺杀素还真的计划失败，太黄君的身份曝光，争斗进入第二阶段。主要围绕藏龙宝典进行，直到素还真出世结束。剧情走向上，因为太黄君已经暴露身份，这一段的智斗会更加激烈，敬请关注刀说异数后续剧情。&lt;/p&gt;

&lt;p&gt;这一集内容上只是一些简单的铺垫。崎路人为藏龙宝典而同意关足天的条件，向太黄君换取擎天神剑刺杀通瑶池；太黄君打算抢先取走藏龙宝典，并利用回生水暗算崎路人。不过崎路人已经表明了自己有后招，而这一集结束地恰到好处，争斗的主要部份和小爆点都集中在下一集上。作为一个过渡来说，这一集当然是很无聊，但还是可圈可点的。值得一提的是小树林向世外峰巨书岩的转场部分，总算克服了霹雳最近的剪辑生硬问题；崎路人学狗叫印象中异数似乎是没有的，不过深得崎路人性格的精髓，提出表扬。&lt;/p&gt;

&lt;p&gt;可能唯一的一点问题在于武戏部分：这一集只有冷剑白狐杀谈无欲这一小段而已，而其中有含金量的武戏只有十秒。经历了一大段冗长的对话，我实在是希望好好欣赏这场打戏，无奈金鳞蟒邪风头过盛，不论是新老异数，在谈无欲之死这里处理得都太随便了，武戏上谈的实力没有得到展现，剧情走向上他没有死的必要，实在让人感觉是为空缺的武戏所强行安排。对待这种异数本来就不合理的剧情，是否合理地修正会好一些呢？&lt;/p&gt;
</description>
        <pubDate>Sun, 24 Feb 2019 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2019/02/daoshuoyishu-05/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/02/daoshuoyishu-05/</guid>
        
        <category>刀说异数</category>
        
        <category>布袋戏</category>
        
        <category>剧评</category>
        
        
      </item>
    
      <item>
        <title>刀说异数第四集小评</title>
        <description>&lt;p&gt;&lt;strong&gt;写在前面&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;「异数」指霹雳异数，「刀说」指刀说异数。很多时候，我也会用「新/老异数」来区分。&lt;/li&gt;
  &lt;li&gt;此文章大概率含有潜在剧透。&lt;/li&gt;
  &lt;li&gt;此系列的更新将与&lt;strong&gt;没有&lt;/strong&gt;抢先观看资格的戏迷同步。&lt;/li&gt;
  &lt;li&gt;和云浆前辈的剧评相比，我更注重剧情设置，基本忽略了剧情本身的优劣。如果对这方面感兴趣，建议观看云浆前辈的系列剧评。&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;机缘图上的狐狸&quot;&gt;机缘图上的狐狸&lt;/h2&gt;

&lt;p&gt;上一回说到，翻拍剧集应该融入新时代的特色。不知道霹雳最近塑造人物的新特色是不是「阴盛阳衰」，冷剑白狐的人物性格发生了大转变。考虑到之前几集的一些人物的风格，总让我有些不自在。不过当然，观众的心理已经不同了，也许大部分人从中得以宣泄母爱式的情感？&lt;/p&gt;

&lt;p&gt;我如此关心冷剑白狐的形象，只是因为他给人留下的印象太过于深刻。早期人物中，最具性格，最有人格魅力，或许最经典的武者都莫过于他。他的形象精髓就在「冷」上，不管何时何地，沉默寡言的他表现出来的都是绝对的冷酷（作为一名命运多舛的角色，在后期挫折不断的境遇中，他难得地保持了性格）；不过从刀说异数表现出来的，称为「热剑秦」可能还贴切一些。不仅仅话变多了，失明的右眼复明了，而且最为关键的是，现在的他会惊叫、呻吟、叹息。&lt;/p&gt;

&lt;p&gt;我在第四集的片段中，看到的只是一个普普通通的角色，被贴上了「练武奇才」这个标签。如果说在异数中，冷剑白狐的锋芒比他的师父花信风犹盛的话；在刀说中，花信风的人物特点、冲击力都远胜其徒。有点趣味的是，曾经的花信风，也只不过是一个普通的角色，被贴上「武学大师」、「魔龙八奇」的标签而已。在第三四两集中的花信风，出乎意料地展现出一种独立自由的精神，不甘受制于人的信念。比较吸引我的还在于，原本富含深意却未被开发的「二十四番・花信风」名号，在刀说异数里总算得到了比较好的诠释。&lt;/p&gt;

&lt;p&gt;上面说的是「感觉」，如果要具体追究到底是哪个环节出了差错，那么配音第一位，台本第二位。配音无可厚非，至于台本，在目前的四集之中，呈现出新旧割裂的风格。花氏师徒的剧情，当然是用新时代霹雳的风格写就的，有好亦有坏，好处在于贴合观众的口味，而且能为边缘人物创造新的人物价值；坏处则在于，这种价值不一定准确。另外的例子便是南宫取，他现在给我的感觉不像是武林狂人，而是一个——用现在的流行语来说的话——中二少年。心比天高，可惜命比纸薄。&lt;/p&gt;

&lt;p&gt;让我们从霹雳的「美丽新世界」跌回旧世界，在那里，剧情更加老练。第四集中，太黄君是绝对的剧情中枢。针对一剑万生、箭无形、素还真的计谋本身的确没有精妙之处，但是结合起来，加上太黄君气定神闲、决胜千里之外的形象，依旧是相当精彩的戏码。崎路人为解除天虎八将内部根深蒂固的矛盾&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;而继续奔走；在处理南宫取的问题上的冷静展现出人物独特的魅力；此外，故意泄漏擎天神剑的秘密给紫天后听，给太黄君制造麻烦，也是精妙的隐蔽细节。&lt;/p&gt;

&lt;p&gt;不过，客观来说，三十年后看这一段剧情（哑子的哭声前后一段），精彩有余，可是不太能引起观众的共鸣了&lt;sup id=&quot;fnref:2&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;。大抵上来说，今天的霹雳戏迷，似乎已经习惯了多方势力群雄逐鹿（魔域这个组织，在异数里的作用不大，所以算起来其实异数在集境入侵前只有三方势力）；尤其智斗方面，异数虽很精彩，可是格局太小。要求观众细心品味是不现实的，也是没必要的；不妨给他们一些希望看到的：比如，在天虎或魔龙一方中安插一个看上去是好人的间谍，在关键的时刻「跳反」就是现在的观众比较习惯的模式。比起冷剑白狐变热剑白狐，这方面的改动可就要大得多，阻力也会大很多。 不过，刀说异数毕竟是第一部霹雳世界观的翻拍，在这方面我的要求也并不高，只希望它能有一些独特的亮点。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;注释&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot;&gt;
      &lt;p&gt;素还真与叶小钗之间是欧阳上智之仇；叶小钗与金少爷有亲情上的心结；金少爷答应风雨残生杀素还真；崎路人与枯叶暗中也结下了不少仇（见刀说异数后续内容） &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot;&gt;
      &lt;p&gt;就和一些戏迷的交谈，以及对舆论的观察得出此结论，不能算是严谨。 &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Sun, 17 Feb 2019 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2019/02/daoshuoyishu-04/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/02/daoshuoyishu-04/</guid>
        
        <category>刀说异数</category>
        
        <category>布袋戏</category>
        
        <category>剧评</category>
        
        
      </item>
    
      <item>
        <title>刀说异数第三集小评</title>
        <description>&lt;p&gt;&lt;strong&gt;写在前面&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;「异数」指霹雳异数，「刀说」指刀说异数。很多时候，我也会用「新/老异数」来区分。&lt;/li&gt;
  &lt;li&gt;此文章大概率含有潜在剧透。&lt;/li&gt;
  &lt;li&gt;此系列的更新将与&lt;strong&gt;没有&lt;/strong&gt;抢先观看资格的戏迷同步。&lt;/li&gt;
  &lt;li&gt;和云浆前辈的剧评相比，我更注重剧情设置，基本忽略了剧情本身的优劣。如果对这方面感兴趣，建议观看云浆前辈的系列剧评。&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;哑子的哭声&quot;&gt;哑子的哭声&lt;/h3&gt;

&lt;p&gt;《哑子的哭声》，异数剧情中关键的一笔，终于将前异数时代的留存打扫干净，准备迎接新的主线剧情。在这一集里半驼废之死，不仅牵引着叶小钗再次踏入纷争，接过天虎八将的星命——包括父子相残的宿命——也让魔龙八奇慢慢浮上台面。&lt;/p&gt;

&lt;p&gt;为了并行叙事的效果，在南宫取和半驼废打得天昏地暗的时候，剪辑师插入了几段巨书岩的镜头。再加上中间八面狼姬的一大段剧情，就显得南山草茅之战持续了很久——事实上整个武戏部分并不长，被这么一分割之后，原本还算上乘的武戏表现出来的效果大打折扣——看这一段剧情之时，我就在思考改变叙事方式的可行性，老版异数这一部分之所以剪得很琐碎却不觉得跳跃，主要是画面整体偏暗（也许是胶片本身的问题）；而刀说为了塑造南宫取的武功之强，加入了「改变环境」的「结界」式效果——结果就是巨书岩是白天，而南山草茅是偏红色的黑夜——所造成的视觉冲击让人很难受。此外，旧时拍摄技术所限，绝大部分镜头垂直于背景；如今立体感增强，人物特写大行其道，也会让剪辑出的效果略显尴尬&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;

&lt;p&gt;串行叙事也许会好一些，不过我并不是专业人员，不想多谈。就此发散来说，刀说目前为止作了一些细节的创新，但大部分还是按照异数的老路子。台词、剪辑，到处是异数的雪泥鸿爪。刀说开播之前，我也担忧过剧情是否会改动太大，甚至面目全非；不过哭笑不得的是现在，我不喜的倒是这种按图索骥的风格了。异数这面大旗一展，引得许多人迫不及待地跳回坑里；等它结束，大不了又迫不及待地跳出去——然后呢？便没有然后了——对于没有多元宇宙设定的霹雳世界观来说，翻拍如果一成不变，迟早会随着热度消散而失败&lt;sup id=&quot;fnref:2&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;

&lt;p&gt;所以对于第三集出现的目前为止最大的创新——二十四番・花信风——我是非常欣赏的。虽然他现在那文艺青年一般的阳春白雪台词和其他充斥着老剧下里巴人语言的部分格格不入，并且裸身造型有故意迎合某一类观众群体之嫌。我对原本的花信风的印象，只剩下他那首《纸醉金迷》的配乐和他身上的幽灵魔刀而已；但至少目前来说，新的花信风在我心中的形象丰满了起来——当然，不是什么好形象——作为曾经脸谱化的边缘人物，编剧选择他来重点刻画，并且使用的是新时代霹雳才会使用的出场特写和瑰丽文辞，的确是让我觉得刀说异数开始变得有趣起来了（非常不幸，如上回所说，在此之前略感无聊）。&lt;/p&gt;

&lt;p&gt;这些天和一些戏迷谈论，说起对刀说异数的期待。某位戏迷指出，其实翻拍得还不还原无伤大雅，最重要的是要表现出电视布袋戏在21世纪10年代所具有的新特点。我非常认同这个观点，只有用发展的眼光看待文艺作品，才不会落入各类偏执与“一元论”思想的窠臼。哑子的哭声是异数的主线剧情的一部分，扪心自问，我来看刀说异数肇始，期待的无非是「哑子的哭声-龙骨圣刀之争-素还真与风采铃的爱情-时空圣战-集境入侵」这条线，这部份的任何改动都会招致观众的不满。花信风这类角色，本身人气不高，对剧情影响不大，正适合于用新形式的创作手法进行回炉重造——我想事实也的确如此，毕竟他的人气现在可高了，不是吗？&lt;/p&gt;

&lt;p&gt;还有一个例子：太黄君在巨书岩透露出新的「异龙」、「殆石」、「宇空劫洞」之类的设定。光看名字就知道这不是1990年的风格。这些新设定会不会在异数里起作用还未可知，毕竟巨书岩里的十八口神兵至今（指2019年正剧）也没有尽展。&lt;/p&gt;

&lt;p&gt;最后还是回到「哑子的哭声」本身吧。两版配音我都有听，叶小钗的配音都很不错，各有特点。但是在崎路人安慰叶小钗的部分，语速实在是太快，而且毫无应有的情感，难免让人产生崎路人是「站着说话不腰疼」的感觉。读者可以对比原本的「崎路人会永远支持你，永远鼓励你，永远帮助你」的部分，这里的差距还是不小的。&lt;/p&gt;

&lt;h4 id=&quot;注释&quot;&gt;注释&lt;/h4&gt;

&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot;&gt;
      &lt;p&gt;比如战斗开始之后的第一次切换场景，由两人如火如荼的战斗全景突然切至巨书岩，崎路人的头部占了画面的四分之三以上。 &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot;&gt;
      &lt;p&gt;2010年左右新天宇系列的翻拍无疾而终，主要是因为观众流失和配音不佳，与今天霹雳帝国面临的问题不一样。另外千禧年之前的《云州大儒侠》系列翻拍，没有霹雳这样长达2000余集的负担。 &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Thu, 07 Feb 2019 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2019/02/daoshuoyishu-03/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/02/daoshuoyishu-03/</guid>
        
        <category>布袋戏</category>
        
        <category>刀说异数</category>
        
        <category>剧评</category>
        
        
      </item>
    
      <item>
        <title>Bresenham直线绘图算法：原理与实现</title>
        <description>&lt;p&gt;&lt;img src=&quot;/assets/images/2019/bresenham.png&quot; alt=&quot;原理图&quot; /&gt;&lt;/p&gt;

&lt;p&gt;目前常见的显示设备为光栅化显示器。此类设备采用像素的方式显示图像，也就意味着要在光栅化显示器上画出完美的直线，倾角必须是45k度（k为整数）。&lt;/p&gt;

&lt;p&gt;如果不满足角度为45的倍数，需要采用近似的方法，比如，可以选择像素点到实际直线的距离最短者。先考虑斜率介于0和1之间的情况：如上图所示，当$P_i$点被选择为直线的一部分时，$P_{i+1}$只可能是右侧或者右上侧的点。此时，可以由两点到直线的距离之差($r_i-q_i$)的符号判定选择何者。根据相似三角形原理，其符号必然与$r^{\prime}_i-q^{\prime}_i$相同。&lt;/p&gt;

&lt;p&gt;又由于$\Delta a &amp;gt; 0$，所以上式符号与$(r^{\prime}_i-q^{\prime}_i)\Delta a$相同。令此变量为“误差值”，记为$\nabla$。Bresenham算法即是通过此误差值的正负来决定下一像素点的选取。但是算法不是每一步都重新计算此值，而是通过递推式更新。这是Bresenham算法高效的原因。&lt;/p&gt;

&lt;p&gt;误差值的递推式如下：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\nabla_1 = 2\Delta b - \Delta a \\

\nabla_{i+1} = \nabla_i + 2\Delta b - 2\Delta a\quad if \quad \nabla_i \ge 0 \\

\nabla_{i+1} = \nabla_i + 2\Delta b \quad if \quad \nabla_i &lt; 0 \\ %]]&gt;&lt;/script&gt;

&lt;p&gt;递推关系很容易可以证明，如果需要，可以参考Bresenham的&lt;a href=&quot;/assets/papers/bresenham.pdf&quot;&gt;原论文&lt;/a&gt;，证明非常详细。&lt;/p&gt;

&lt;p&gt;现在，我们需要将算法推广到整个二维平面。首先，忽略递推关系的变化，当$\nabla$分别为负和为正时，所对应的下一个像素点不再固定是右侧和右上侧(也就是x加一或者x、y都加一）。但是，x坐标和y坐标的&lt;strong&gt;增量&lt;/strong&gt;可以简单地由线段起始矢量的符号确定。试看下图：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2019/bresenham2.png&quot; alt=&quot;增量&quot; /&gt;&lt;/p&gt;

&lt;p&gt;另外，当直线斜率的绝对值大于1时，算法每一步都保证y加一，而不是x加一。这种情况下需要将$\Delta a$ 和$\Delta b$调换，并修改相应的递推式。&lt;/p&gt;

&lt;p&gt;说这么多空话可能不容易理解，试结合C++实现与注释理解：&lt;/p&gt;

&lt;div class=&quot;language-cpp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;bresenham&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// (x1, y1) to (x2, y2)&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deltax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deltay&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stepx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 根据矢量方向，确定增量大小&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stepy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;steep&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deltay&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deltax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 如果斜率绝对值大于1，交换deltax和deltay&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;swap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deltax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deltay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;steep&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deviation&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deltay&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deltax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deltax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;setpixel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 选定像素点(x1, y1)&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deviation&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;steep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stepx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stepy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;n&quot;&gt;deviation&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deltax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;steep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stepy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stepx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;deviation&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deltay&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;以上代码效率可能不足。经过简化后，可以在几行内完成，但可读性下降很多&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;：&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;bresenham&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;abs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;abs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setpixel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;referrence&quot;&gt;Referrence&lt;/h4&gt;

&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot;&gt;
      &lt;p&gt;用C语言画直线, https://zhuanlan.zhihu.com/p/30553006 &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Fri, 01 Feb 2019 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2019/02/bresenham-algorithm/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/02/bresenham-algorithm/</guid>
        
        <category>算法</category>
        
        <category>计算机图形学</category>
        
        
      </item>
    
      <item>
        <title>刀说异数第二集小评</title>
        <description>&lt;p&gt;&lt;strong&gt;写在前面&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;「异数」指霹雳异数，「刀说」指刀说异数。很多时候，我也会用「新/老异数」来区分。&lt;/li&gt;
  &lt;li&gt;此文章大概率含有潜在剧透。&lt;/li&gt;
  &lt;li&gt;此系列的更新将与&lt;strong&gt;没有&lt;/strong&gt;抢先观看资格的戏迷同步。&lt;/li&gt;
  &lt;li&gt;和云浆前辈的剧评相比，我更注重剧情设置，基本忽略了剧情本身的优劣。如果对这方面感兴趣，建议观看云浆前辈的系列剧评。&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;剧情批判&quot;&gt;剧情批判&lt;/h3&gt;

&lt;p&gt;上一回说到，刀说的第一集存在节奏过快，人物塑造欠缺的问题。第二集较好地塑造了一批鲜明的人物形象，剧情节奏亦有所改善。可惜，还是没能达到异数那种「举重若轻」的地步。所以，这一次主要谈一谈新异数在&lt;strong&gt;人物塑造&lt;/strong&gt;方面的剧情设置。&lt;/p&gt;

&lt;p&gt;异数的矛盾很尖锐，也很直截了当——比如素还真与太黄君的宿命之争、一页书与半尺剑的瑜亮情结&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;——虽然简单、俗套却实用，大抵今天的各类武侠作品都离不开这样的窠臼。崎路人和太黄君在异数前期的对手戏，是素还真复活之前为龙虎之争填补空白所必须，也是引出龙虎的成员的线索。这部份主要以斗智为主。&lt;/p&gt;

&lt;p&gt;第二集里，太黄君占了上风。得益于剪辑的进步，这部份剧情得以跟随崎路人的视角连贯地呈现出来。因为这里的暗线不难推测，我就直说无妨：太黄君以金钱收买吕公子&lt;sup id=&quot;fnref:2&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;，编了一段太黄君回收枫叶剑的故事；他算准崎路人会在翻书时藏拙，所以故意让后者前往找吕公子。最主要的目的其实不是刺探崎路人的根基，而是将崎路人留在巨书岩。至于为什么一定要把他留下来，看下一集就知道了。&lt;/p&gt;

&lt;p&gt;经过这一段剧情，太黄君的智慧不言而喻，对人物的刻画很精彩，而且比之老异数剧情更连贯，给人一种畅快感——顺带一提，这段剧情有一部分改动：首先吕公子没被杀人灭口&lt;sup id=&quot;fnref:3&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;，二来枫叶剑的位置从第三页变为了第六页。&lt;/p&gt;

&lt;p&gt;另一方面，对叶小钗的心路历程的描写可以说是浓墨重彩。在新异数如此紧张快速的剧情中，不仅仅增加了半驼废大段大段的表白，而且插入了一部分《霹雳至尊》中的回忆线，以图表现叶小钗内心的纠结。叶小钗今天的地位和受欢迎程度，和当年自然不可同日而语，也有能力获得更多的资源。这对于老戏迷来说并没有什么不妥；不过再一次地，这段剧情和前异数时代的剧集耦合太大，不利于推广。尤其是两段《霹雳至尊》的剧情，个人认为大可不必再拍一次。欧阳上智对叶小钗的恩情，和半驼废的恩情一经对比，我想每一位观众都能看出孰轻孰重。可偏偏叶小钗选择为欧阳上智报仇，这是《霹雳剑魂》剧情本身就不合理的地方——毕竟为了制造剧情上的冲突，而刻意忽略了人物的情感，这种方式是不可取的——没必要再带到新异数里去。&lt;/p&gt;

&lt;p&gt;这段戏想要表现的叶小钗的人物性格和心理活动，我想不用我赘述。我想说一下半驼废的人物形象问题：在我印象中，半驼废是一名境界极高的人，而且带有几分狂傲。他帮助叶小钗是因为看不惯一剑万生而已——而不是“缘分”&lt;sup id=&quot;fnref:4&quot;&gt;&lt;a href=&quot;#fn:4&quot; class=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;——并且我犹记得半驼废拒绝叶小钗叫他「师父」的画面，所以看到半驼废拍着叶小钗的肩，说出「我永远是你的师父」的时候，我个人实在是很惊讶&lt;sup id=&quot;fnref:5&quot;&gt;&lt;a href=&quot;#fn:5&quot; class=&quot;footnote&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;

&lt;p&gt;人物塑造不像剧情，是属于见仁见智的问题，也就是所谓「不分好坏，只分真假」&lt;sup id=&quot;fnref:6&quot;&gt;&lt;a href=&quot;#fn:6&quot; class=&quot;footnote&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;的问题。所以半驼废应该是怎样的形象，取决于观众是如何想法。把半驼废看成是一名非常疼爱徒弟的师父，完全合情合理。不过这样的形象显得未免有些「浅」。具体如何抉择，留待观众们斟酌。&lt;/p&gt;

&lt;p&gt;这一集也重点刻画了八面狼姬和金少爷这一对人物。当然，刻画的方法是&lt;em&gt;人所尽知&lt;/em&gt;的。相信经过这两集，观众对他们俩印象应该很深刻才是，不再赘述。除了表面上的风流浪荡，我可能更喜欢看到金少爷内心对缺失的亲情的渴望，和对叶小钗的恨意之间的矛盾。这是当初异数刻画的很不错的地方，希望新异数也能将其较好地表现出来。&lt;/p&gt;

&lt;p&gt;照例总结：第二集有一些不错的人物刻画；但由于新鲜感已过，主线依旧不明朗，加之详略有些失衡，导致有些无聊。&lt;/p&gt;

&lt;h4 id=&quot;注释&quot;&gt;注释&lt;/h4&gt;

&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot;&gt;
      &lt;p&gt;指台面上的对立关系，实际上当然没这么简单。 &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot;&gt;
      &lt;p&gt;吕博寿可能是目前惟一一个变丑了的角色。 &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:3&quot;&gt;
      &lt;p&gt;至少这一集是如此…… &lt;a href=&quot;#fnref:3&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:4&quot;&gt;
      &lt;p&gt;见刀说异数叶小钗第三段回忆，半驼废语：「也许是缘分，也许是……」 &lt;a href=&quot;#fnref:4&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:5&quot;&gt;
      &lt;p&gt;据人解释，霹雳对半陀废作了二次创作。半驼废如此看重师徒情感是因为之前他还有一名徒弟。也许这种解释很合理，但这句话却无疑在破坏半驼废这个角色的格局。何况二次创作的可信度是要打折扣的。 &lt;a href=&quot;#fnref:5&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:6&quot;&gt;
      &lt;p&gt;窦唯语，原文大致为“音乐没有好和坏的区分，但有真和假的区分” &lt;a href=&quot;#fnref:6&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Wed, 30 Jan 2019 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2019/01/daoshuoyishu-02/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/01/daoshuoyishu-02/</guid>
        
        <category>布袋戏</category>
        
        <category>刀说异数</category>
        
        <category>剧评</category>
        
        
      </item>
    
      <item>
        <title>刀说异数第一集小评</title>
        <description>&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;写在前面&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;「异数」指霹雳异数，「刀说」指刀说异数。很多时候，我也会用「新/老异数」来区分。&lt;/li&gt;
  &lt;li&gt;此文章大概率含有潜在剧透。&lt;/li&gt;
  &lt;li&gt;此系列的更新将与&lt;strong&gt;没有&lt;/strong&gt;抢先观看资格的戏迷同步。&lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;新旧合冶&quot;&gt;新旧合冶&lt;/h3&gt;

&lt;p&gt;回忆是一种聚首，忘却是一种自由&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;。老异数的前尘往事，已经随着时节的变迁而渐渐褪色。然而那些记忆的模糊对我而言，实在算是一种解脱——把我从对那光怪陆离的剧情的朝思暮想中解放了出来——而且我现在很庆幸，自己没有被青春期的浪漫主义情怀给吞噬殆尽。虽说如此，当偶尔回忆起异数之前的那些剧情，还是难免感慨万千，心向往之——用今天的话来说，可能就是「情怀」在作祟。&lt;/p&gt;

&lt;p&gt;因此听闻刀说上映的消息，我最终还是决定试着看看——也许存有我这种心态的人并不占少数，至少我已经看见了一些睽违的面孔——并且做一些评论。霹雳从事翻拍是第一次，所以这实在不是一件简单的事情，只能“摸着石头过河”，慢慢尝试。我会尽量控制自己不去剧透，但却没办法保证——很多时候我必须把老异数这尊大佛搬出来替我佐证——我也尽量不去讲情怀或者为自己占领道德高地。以及我比较厌恶的一点：倚老卖老。&lt;/p&gt;

&lt;p&gt;当然，因为一向不擅长对人物、布景、武戏、文辞的分析，所以这部份还是照旧蜻蜓点水而已。&lt;/p&gt;

&lt;h3 id=&quot;剧情批判&quot;&gt;剧情批判&lt;/h3&gt;

&lt;p&gt;新异数实际上是一只踽踽独狼，没有什么承上启下的负担&lt;sup id=&quot;fnref:2&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;。所以所有上一档存活下来的无关紧要的人物都被删掉了（比如渡入迷、五尖珠圆流、刀锁金太极、三魔灵）；有的甚至提前被宣告了死刑（比如普九年，让我们为这位著名的智者默哀）；有些活在回忆里的人则一笔带过（马赛凤和一钱一命）。当然，这些改动影响了一些人物的剧情，比如万俟焉的出场就被推迟了。顺带一提，就我已看完的两集而言，并没有本该有不少戏份的命七天——也许他被删除了，也许只是出场被延迟了——尚不能下定论，毕竟他是异数很重要的人物。&lt;/p&gt;

&lt;p&gt;这种做法倒是无可厚非，我甚至有些欣赏这种干脆；如果能把与欧阳世家的藕断丝连也完全斩断，那是再好不过。不过，原本70分钟的剧集被压缩成了45分钟（老异数的片头和片尾曲可没那么长呐！）。即使删掉了这么多人物，也不可避免地影响到了剧情的节奏：整个第一集给我的最大感觉就是「快」，场景的切换迅速而生硬（剪辑只能算是一般），而人物的对白也被加快了很多。平心而论，我对这种转变不怎么喜欢；而且对于大部分戏迷而言，想必这四十五分钟也让他们非常难熬——每个人初识电视布袋戏时对剧情的迷茫和无奈都是一样的，不是吗？——如果我们考虑到刀说的翻拍部分被压缩到只有二十集，那情况可就更糟糕了。&lt;/p&gt;

&lt;p&gt;这里我一定要强调，异数的剧情带有那个年代的简约风格，本身其实并不复杂，至少比后来需要观众绞尽脑汁的剧情易懂得多&lt;sup id=&quot;fnref:3&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;。但是异数登场的组织和人物比较多，它们之间的矛盾非常复杂，需要观众自己去把握。这在第一集还是比较困难的，因为第一集不仅仅是节奏快，而且主要是在赶剧情、铺陈世界观，除了八面狼姬和金少爷这样的角色靠荤段子能引人注目一点，其他角色并没有太多人物塑造的机会。当然，第二集在人物刻画上要好很多，可惜这一次并不是两集免费观看，所以这个开头对没有接触布袋戏的人来说，还是太过于艰深了。&lt;/p&gt;

&lt;p&gt;好了，让我们对这个问题暂时抱持一些希望，但愿在剧情铺开之后，节奏会回到正轨。对于刀说的剧情，还有没有什么可圈可点的呢？&lt;/p&gt;

&lt;p&gt;关足天与龙灵的故事算是这一集唯一的一点原创，把藏龙宝典的来历总算给交代清楚了，虽然多多少少有点「机械降神」的意味，但也算圆了后续龙气剑和龙骨圣刀的剧情，属于比较好的再创作；此外场景的顺序也进行了重排，比如崎路人在第一集的出场就是连续的，如果忽略生硬的转场，的确要比以前合理一些；尤其值得一提的是，没有了史菁菁、金太极、独眼龙这条千篇一律的剧情线，让我在心理上多少有些满足&lt;sup id=&quot;fnref:4&quot;&gt;&lt;a href=&quot;#fn:4&quot; class=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;

&lt;p&gt;除此之外，刀说的剧情可以说是相当忠诚于原剧了。我特意回去看了看异数的台本&lt;sup id=&quot;fnref:5&quot;&gt;&lt;a href=&quot;#fn:5&quot; class=&quot;footnote&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;，没想到就连秦假仙的荤段子也原封不动地被搬了过来，着实让人吃惊。我将刀说异数当作是一部全新的剧集，但如果非要谈论「还原度」一类的东西，我得承认刀说是相当原汁原味的，超出了我的预期。&lt;/p&gt;

&lt;p&gt;我只谈了剧情设置的问题。关于具体的人物和剧情评点，请看云浆前辈的文章。&lt;/p&gt;

&lt;h3 id=&quot;其他&quot;&gt;其他&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;我的关注点不在武戏上，不过最起码，新异数的武打部分还是相当优秀的。可惜我的动态视力太差，这种超快速的武戏运镜我实在是消受不起。&lt;/li&gt;
  &lt;li&gt;画面饱和度很高，要分辨布景和人物越来越困难了（嗯……小偶剧时代，人物和布景是分离的）。可怜我的视力，已经有些分不清崎路人和树林了。不过，这也让画面纵深和立体感更强了——这意味着你随机截图得到的画面和谐的概率更大。&lt;/li&gt;
  &lt;li&gt;口白对我而言不甚重要，过分指摘也没什么意义，况且刀说的两版配音犹算不错，因此尚算满意。&lt;/li&gt;
  &lt;li&gt;人物刻画差劲了一些，但愿后续能可加强。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;总结一下：刀说作为一部独立剧集来说，可说是制作精良；若要竖向比较，犹差之可可。可惜这一集作为剧集的开头，并不能很好的吸引我。&lt;/p&gt;

&lt;h4 id=&quot;注释&quot;&gt;注释&lt;/h4&gt;

&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot;&gt;
      &lt;p&gt;纪伯伦语 &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot;&gt;
      &lt;p&gt;至少目前来说是这样。我比较希望能有更多的剧集被翻拍，如果它们之间有接续关系，刀说异数就必须为此做好准备。 &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:3&quot;&gt;
      &lt;p&gt;关于这一点，刀说异数第二集有一个很好的例子，请看下集。 &lt;a href=&quot;#fnref:3&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:4&quot;&gt;
      &lt;p&gt;由于过于迎合市场，这条剧情线充满了三个人反反复复的生离死别。同样的情况发生在照世明灯身上，但愿新异数能好好圆上这段剧情的漏洞 &lt;a href=&quot;#fnref:4&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:5&quot;&gt;
      &lt;p&gt;见霹雳创世录 &lt;a href=&quot;#fnref:5&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Thu, 24 Jan 2019 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2019/01/daoshuoyishu-01/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/01/daoshuoyishu-01/</guid>
        
        <category>布袋戏</category>
        
        <category>刀说异数</category>
        
        <category>剧评</category>
        
        
      </item>
    
      <item>
        <title>线性选择算法与五取样划分轴点选取</title>
        <description>&lt;p&gt;前面&lt;a href=&quot;/2018/11/quicksort-optimization&quot;&gt;介绍过&lt;/a&gt;，若能在严格线性时间内选择出一个足够接近中位数的数，快速排序的时间复杂度在最坏情况下也将保持$O(nlogn)$。同理，如果这样的轴点选取算法存在，那么quickselect也可以改进为线性。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Median of Medians&lt;/strong&gt;，或称为五取样划分，直译为“中位数的中位数”算法，就是这样一种算法。它是BFPRT算法的最简单的形式(BFPRT是五位大神的姓氏缩写：Blum,Floyd,Pratt,Rivest,Tarjan)。算法的思路其实很简单，一共五步&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;BFPRT算法：对于输入序列A，找其第k大的元素&lt;/p&gt;
  &lt;ol&gt;
    &lt;li&gt;将A划分为A/5个区间。除了最后一个区间的元素数量可能少于五外，其余区间元素个数都是五。（这一步需要线性时间）&lt;/li&gt;
    &lt;li&gt;对于每一个区间，使用任意一种排序算法排序，从而得到一组5-排序的序列。将每一个区间的中位数取出形成新序列B（线性）&lt;/li&gt;
    &lt;li&gt;递归调用算法自身，得到B的中位数M（T(n/5)时间）&lt;/li&gt;
    &lt;li&gt;以M为轴点进行划分，记录划分后M的秩Q(线性)&lt;/li&gt;
    &lt;li&gt;将Q与k比较，如果k小于Q，在M左侧递归；大于则在右侧递归；若相等，则算法结束（这一步的成本见下）&lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;

&lt;p&gt;我的能力有限，简化其复杂度递推式为:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;T(n) = T(n/5) + T(\frac{3}{4}n) + O(n)&lt;/script&gt;

&lt;p&gt;其中O(n)是累计的各种线性操作，T(n/5)是轴点递归需要的时间，T(3n/4)是问题缩减后的规模。&lt;/p&gt;

&lt;p&gt;由于M是B的中位数，而B中的元素本身也是中位数，都至少大于或小于对应5-序列的一半元素。所以进行一轮算法后，问题的规模至少会缩减1/2*1/2=1/4。也就是问题规模缩减为$\frac34n$&lt;/p&gt;

&lt;p&gt;根据主定理，形如$T(n)=\sum_{i=1}^{k}T(a_{i}n) + O(n)$的递推式。如果$\sum_{i=1}^{k}a_i$小于1，则算法是线性的。显然这个算法满足此条件，所以是线性算法。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;那么问题来了，为什么是五取样呢？&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;考虑不等式$\frac{1}{q} + \frac{3}{4} &amp;lt; 1$。q的最小值即是5。对于大于5的划分长度，这个算法当然还是线性的，不过用于排序的时间会增加。&lt;/p&gt;

&lt;p&gt;此算法一般没有工程价值，但是Java的标准库里在特定情况下使用了这一方法。查看STL的std::sort，使用的是introsort，而不是五取样划分。&lt;/p&gt;
</description>
        <pubDate>Thu, 17 Jan 2019 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2019/01/linear-select/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/01/linear-select/</guid>
        
        <category>算法</category>
        
        <category>五取样划分</category>
        
        <category>快速排序</category>
        
        <category>BFPRT算法</category>
        
        
      </item>
    
      <item>
        <title>一维线段树的2n空间实现</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;2019年到了，祝愿大家心想事成，万事如意。 :)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;很多人说线段树需要O(2n) ~ O(4n) 的空间。对于线段树这样一个完全二叉树来说，怎么可能没有严格2n的实现方式呢？原因在于对于线段树结构的理解不同。线段树自底向上构建，的确是一棵完全二叉树；然而大部分递归构建的线段树，本身采用的是二分策略，必会导致大量的无用空间。&lt;/p&gt;

&lt;p&gt;这里简要说明一下自底向上、迭代地构建线段树的方法:&lt;/p&gt;

&lt;p&gt;假设输入长度为size，开辟2*size的空间足矣。构建步骤如下：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;将原数据复制到开辟的[size, 2*size - 1]区间内&lt;/li&gt;
  &lt;li&gt;j从size-1到1迭代，每一步将秩为2j和2j+1的数据&lt;strong&gt;合并&lt;/strong&gt;，储存在秩为j处。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;当更新原秩为index处的数据 操作如下：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;先直接更新size+index位置处的数据&lt;/li&gt;
  &lt;li&gt;令i从(size+index)/2（即其父节点）开始迭代，每一步合并秩为2i和2i+1处的数据，赋值于秩为i处，然后i/=2（这一步其实就是沿着元素的搜索路径重新构建了一次）当i小于等于1结束&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;查询[left, right)区间的数据之&lt;em&gt;“和”&lt;/em&gt; 通过递归实现如下：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;left &amp;gt;= right 时停止(递归基，返回空)&lt;/li&gt;
  &lt;li&gt;若left是奇数，则合并left处数据，和递归[left+1,right)后的结果&lt;/li&gt;
  &lt;li&gt;若right是奇数，则合并right-1处数据，和递归[left,right-1)后的结果&lt;/li&gt;
  &lt;li&gt;否则，返回递归[left/2,right/2)的结果&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;关于为什么分奇偶，简要说明一下：按照区间左闭右开的原则，考察线段树各节点奇偶性不难发现，若区间左端点left是奇数，那么必然是父节点的右孩子，在这种情况下，只能单独把秩为left的元素抽出（这时left+1就是其父的兄弟的左孩子，这是完全二叉树的性质）; 如果右端点right是偶数也是同理的。只有在二者都是偶数的时候，线段树的上一层才会完全包含要查询的区间。&lt;/p&gt;

&lt;p&gt;总结来说，就是这种线段树的实现不再用节点存储其所对应的区间范围，而是通过树的拓扑结构间接推得。这么做的确是节省了不少空间，但是理解起来确实要难一些。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;合并&lt;/strong&gt;是关键的一步，应该由使用者自己给定。因此设计泛化的线段树如下:&lt;/p&gt;

&lt;div class=&quot;language-cpp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;template&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;typename&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typename&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SegmentTree&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;private&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query_p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 查询&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query_p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;right&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query_p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;right&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query_p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 合并操作对应的函数对象&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data_type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;SegmentTree&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;_data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// copy and construct leaves&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SegmentTree&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 更新&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query_p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;其中，具体怎么合并两个数据项由函数对象_merge指定，比如&lt;strong&gt;求和&lt;/strong&gt;操作可以用λ表达式实现为：&lt;code class=&quot;highlighter-rouge&quot;&gt;[](auto a, auto b){return a+b}&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;显然，这样构建的线段树空间复杂度为$\Omega(2n)$。&lt;/p&gt;

&lt;p&gt;P.S. 实际运用时需要加上运行时边界检查。&lt;/p&gt;
</description>
        <pubDate>Thu, 03 Jan 2019 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2019/01/segment-tree/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/01/segment-tree/</guid>
        
        <category>算法</category>
        
        <category>线段树</category>
        
        
      </item>
    
      <item>
        <title>观《孽海记・思凡》有感</title>
        <description>&lt;p&gt;这一折子戏三十分钟，剧情非常简单：小尼姑赵色空不愿继续苦守空门，经过一番思想斗争之后偷偷溜下山去的故事，简单来说即是“思凡”。整出戏只有色空一个角色，而且身段复杂，情绪变化比较大，表演难度高。有一句著名的“男怕《夜奔》，女怕《思凡》”即是形容表演之难。不过对于观众而言，这出戏非常流畅，从头看到尾可以说是一气呵成。其中有很多有意思的处理，所以即使没有《寻梦》那样强烈的情感表现，还是没有让观众感到无聊。&lt;/p&gt;

&lt;p&gt;不过先谈一下剧本本身，据说，这出戏是昆曲从南音吸取过来的，原来是《劝善金科》的一折。后者记录的故事主要是维护封建礼教，《思凡》《下山》的故事在这里面最后的结局是很悲惨的——两人双双下了地狱——称之为“因果报应”。包括昆曲版本题作“孽海记”，其实也是站在色空和本无的对面，对其进行批判。不过到现在只有这两出戏传了下来，可见人民群众的内心想法。虽说作者一开始想借僧尼相爱的故事宣扬封建礼教，但是到最后这精彩的两出戏倒成了《牡丹亭》似的个性解放的象征，不得不说是有些讽刺的。但是色空本人复杂的心理活动，我想断断不是原作者这样一个仇视进步思想的人所能写就，如果说这出戏的作者理应有什么荣誉，也应当归于广大劳动人民和戏曲工作者身上。这也说明了戏曲表演艺术家的再创作，对于剧本的重要性。&lt;/p&gt;

&lt;p&gt;这出戏的台词除了一些佛教用语之外非常朴实易懂，和《牡丹亭》一类的文辞虽然不能相比，但是真情实意不假，尤其是口语化的台词生活气息浓厚，像“一个儿抱膝舒怀，口儿里念着我。一个儿手托香腮，心儿里想着我。一个儿眼倦开，朦胧的觑着我。”这类排比重复较多。剧中随着色空情感的变化，语言也相应地直截了当地反映她的心情。比如念功课时不情不愿的“念几声弥陀！恨一声媒婆。”、“叫，叫一声没奈何！念几声哆呾哆”等等。&lt;/p&gt;

&lt;p&gt;当然，这出戏精彩之处还是在于人物情感丰富，富于变化。一开始色空处于相对平静的状态，讲起目连救母的佛教故事。话锋一转，说起自己孤枕难眠的凄凉境地。而后的「山坡羊」，描述和子弟眉来眼去，又变为激动欣喜的心情，后半段讲自己宁愿受佛教中地狱的惩罚，也要追求爱情，内心更加坚定。「采茶歌」讲自己出家削发为尼的来龙去脉，以及自己平时的单调乏味的生活，则带着自怜的心态。一边做着早课一边宣泄情绪，则是愠怒、无奈的心情。&lt;/p&gt;

&lt;p&gt;当她到大殿散步，将佛像说成是爱自己、笑自己、恼自己，蕴含着的则一方面是对爱情的憧憬，一方面又是对自己虚度青春的恼怒。接着「香雪灯」直言自己的憧憬，“我本是女姣娥，又不是男儿汉”则彻底暴露出其内心的柔软。最后「风吹荷叶煞」既有逃跑的惊险、欣喜，也有对未来生活的向往。总之整出戏里色空逐渐坚定自己的信念，最终偷跑下山，有着明显的感情路径。所以观看的时候，不会给人无聊感。加上一些表演上的细致描摹，则更加凸显豆蔻少女的活力及其收到的压抑。&lt;/p&gt;

&lt;p&gt;至于身段方面，只能大概看出变化很多。拂尘、木鱼、水袖等道具都有应用，表演上和《寻梦》类似，动作细腻，移步换景。不过整体的基调还是高亢明亮的，而非寻梦的悲哀，所以表演者的动作相对放开了很多。如上所说“女怕《思凡》”，要表演色空的不同情绪还是相当困难的。总结来说这出戏简短隽永，适合反复观赏，尤其不同演绎者的版本，可以相互对照，想必也是别有一番趣味。&lt;/p&gt;
</description>
        <pubDate>Mon, 24 Dec 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/12/kunqu-sifan/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/12/kunqu-sifan/</guid>
        
        <category>昆曲</category>
        
        <category>思凡</category>
        
        <category>孽海记</category>
        
        <category>戏曲</category>
        
        
      </item>
    
  </channel>
</rss>
